# Pipeline_st

This program builds a pipeline of active objects (AO) to perform a series of tasks. The pipeline consists of four AO, each performing specific operations on numbers generated by the first AO. The program takes one or two arguments as input.

## Prerequisites
- C++ compiler
- POSIX threads library

## Usage
```
./pipeline_st N [seed]
```

- N: The number of tasks to perform.
- seed (optional): The random seed for number generation. If not provided, the current time will be used as the seed.

## Functionality

The pipeline_st program performs the following steps:

1. The first AO initializes the random generator using the provided seed (or a seeded null value) and generates N six-digit numbers. It transfers each number, one by one, to the AO that follows it, with a time difference of one thousandth of a second.

2. The second AO receives the number from the previous AO, prints the number, checks if it is prime, and prints "true" or "false" accordingly. It then adds 11 to the number and transfers it to the next AO.

3. The third AO receives the number from the previous AO, prints the number, checks if it is prime, and prints "true" or "false" accordingly. It subtracts 13 from the number and transfers it to the fourth AO.

4. The fourth AO receives the number from the previous AO, prints the received number, adds 2 to it, and prints the new number.

5. After performing N tasks and their calculations, the program terminates.

## Implementation

The program is implemented using the following components:

### 1. PrimeChecker

This component provides a function to check whether a given unsigned integer is prime. It uses the Miller Rabin algorithm or a similar approach. The function returns 0 if the number is not prime and a non-zero value otherwise.

### 2. ThreadSafeQueue

This component implements a thread safe queue designed to handle a busy environment. The queue provides mutual exclusion protection and supports waiting for a member without busy waiting. It stores elements of type void*.

### 3. ActiveObject

ActiveObject represnt thread and queue of tasks , this component support the following functions :

- `CreateActiveObject`: This function binds and runs a thread for the active object. It selects a queue and receives a function pointer to be called for each element in the queue. The active object's busy loop dequeues tasks from the queue and calls the provided function for each task.

- `getQueue`: This function returns a pointer to the queue associated with the active object. It can be used to insert an element into the queue.

- `stop`: This function stops the active object and releases all memory structures associated with it.

### 4. Pipeline_st

This is the main program that utilizes the components described above. It builds a pipeline of active objects and performs a series of tasks as described in the assignment. The pipeline consists of four AO that perform specific operations on the numbers generated by the first AO.

## Example

```
./pipeline_st 2 123456

123456
false
123467
false
123454
false
123456
```

This example shows the output of running the program with N=2 and seed=123456. The program generates two six-digit numbers (123456 and 123467) and performs the calculations as described in the assignment. The last number generated (123456) matches the first number, indicating correct execution.

## Note

- The program requires a C++ compiler and the POSIX threads library to build and run successfully.

- The implementation details of Miller Rabin and other specific algorithms are not provided

 in this readme. Please refer to the respective algorithm documentation or implement your own prime-checking algorithm as required.
